(()=>{"use strict";var t={71:function(t,e,n){var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(n(176).default);e.default=r},176:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205),i=n(278),r=function(){function t(t){this.root=null,this.compare=t||o.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!o.isUndefined(t)&&null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0)},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!o.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.search=function(t){var e=this.searchNode(this.root,t);if(null!==e)return e.element},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty()&&null!==this.root)return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty()&&null!==this.root)return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal((function(e){return t.push(e),!0})),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var n=1;null!==t&&0!==n;)(n=this.compare(e,t.element))<0?t=t.leftCh:n>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,n){null===t||n.stop||(this.inorderTraversalAux(t.leftCh,e,n),n.stop||(n.stop=!1===e(t.element),n.stop||this.inorderTraversalAux(t.rightCh,e,n)))},t.prototype.levelTraversalAux=function(t,e){var n=new i.default;for(null!==t&&n.enqueue(t),t=n.dequeue()||null;null!=t;){if(!1===e(t.element))return;null!==t.leftCh&&n.enqueue(t.leftCh),null!==t.rightCh&&n.enqueue(t.rightCh),t=n.dequeue()||null}},t.prototype.preorderTraversalAux=function(t,e,n){null===t||n.stop||(n.stop=!1===e(t.element),n.stop||(this.preorderTraversalAux(t.leftCh,e,n),n.stop||this.preorderTraversalAux(t.rightCh,e,n)))},t.prototype.postorderTraversalAux=function(t,e,n){null===t||n.stop||(this.postorderTraversalAux(t.leftCh,e,n),n.stop||(this.postorderTraversalAux(t.rightCh,e,n),n.stop||(n.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!=t&&null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!=t&&null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,n=this.root;null!==n;){var o=this.compare(t.element,n.element);if(0===o)return null;o<0?(e=n,n=n.leftCh):(e=n,n=n.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();e.default=r},70:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205),i=n(805),r=n(818),s=function(){function t(t){this.toStrF=t||o.defaultToString,this.dictionary=new i.default(this.toStrF),this.nElements=0}return t.prototype.add=function(t,e){if(void 0===e&&(e=1),o.isUndefined(t)||e<=0)return!1;if(this.contains(t))this.dictionary.getValue(t).copies+=e;else{var n={value:t,copies:e};this.dictionary.setValue(t,n)}return this.nElements+=e,!0},t.prototype.count=function(t){return this.contains(t)?this.dictionary.getValue(t).copies:0},t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.remove=function(t,e){if(void 0===e&&(e=1),o.isUndefined(t)||e<=0)return!1;if(this.contains(t)){var n=this.dictionary.getValue(t);return e>n.copies?this.nElements-=n.copies:this.nElements-=e,n.copies-=e,n.copies<=0&&this.dictionary.remove(t),!0}return!1},t.prototype.toArray=function(){for(var t=[],e=0,n=this.dictionary.values();e<n.length;e++)for(var o=n[e],i=o.value,r=o.copies,s=0;s<r;s++)t.push(i);return t},t.prototype.toSet=function(){for(var t=new r.default(this.toStrF),e=0,n=this.dictionary.values();e<n.length;e++){var o=n[e].value;t.add(o)}return t},t.prototype.forEach=function(t){this.dictionary.forEach((function(e,n){for(var o=n.value,i=n.copies,r=0;r<i;r++)if(!1===t(o))return!1;return!0}))},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},t}();e.default=s},805:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205),i=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||o.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!o.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!o.isUndefined(t)&&!o.isUndefined(e)){var n,i="$"+this.toStr(t),r=this.table[i];return o.isUndefined(r)?(this.nElements++,n=void 0):n=r.value,this.table[i]={key:t,value:e},n}},t.prototype.remove=function(t){var e="$"+this.toStr(t),n=this.table[e];if(!o.isUndefined(n))return delete this.table[e],this.nElements--,n.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(o.has(this.table,e)){var n=this.table[e];t.push(n.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(o.has(this.table,e)){var n=this.table[e];t.push(n.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(o.has(this.table,e)){var n=this.table[e];if(!1===t(n.key,n.value))return}},t.prototype.containsKey=function(t){return!o.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach((function(e,n){t+="\n\t"+e+" : "+n})),t+"\n}"},t}();e.default=i},734:function(t,e,n){var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(805),s=n(205),a=function(t){function e(e,n){var o=t.call(this,n)||this;return o.defaultFactoryFunction=e,o}return i(e,t),e.prototype.setDefault=function(e,n){var o=t.prototype.getValue.call(this,e);return s.isUndefined(o)?(this.setValue(e,n),n):o},e.prototype.getValue=function(t){return this.setDefault(t,this.defaultFactoryFunction())},e}(r.default);e.default=a},422:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205),i=n(229),r=function(){function t(t){this.data=[],this.compare=t||o.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)i.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)i.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){return!o.isUndefined(t)&&(this.data.push(t),this.siftUp(this.data.length-1),!0)},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=o.compareToEquals(this.compare);return i.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){i.forEach(this.data,t)},t}();e.default=r},272:function(t,e,n){var o,i=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(805),s=n(205),a=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),u=function(){function t(){this.key=null,this.value=null}return t.prototype.unlink=function(){this.prev.next=this.next,this.next.prev=this.prev},t}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.head=new u,n.tail=new u,n.head.next=n.tail,n.tail.prev=n.head,n}return i(e,t),e.prototype.appendToTail=function(t){var e=this.tail.prev;e.next=t,t.prev=e,t.next=this.tail,this.tail.prev=t},e.prototype.getLinkedDictionaryPair=function(t){if(!s.isUndefined(t)){var e="$"+this.toStr(t);return this.table[e]}},e.prototype.getValue=function(t){var e=this.getLinkedDictionaryPair(t);if(!s.isUndefined(e))return e.value},e.prototype.remove=function(e){var n=this.getLinkedDictionaryPair(e);if(!s.isUndefined(n))return t.prototype.remove.call(this,e),n.unlink(),n.value},e.prototype.clear=function(){t.prototype.clear.call(this),this.head.next=this.tail,this.tail.prev=this.head},e.prototype.replace=function(t,e){var n="$"+this.toStr(e.key);e.next=t.next,e.prev=t.prev,this.remove(t.key),e.prev.next=e,e.next.prev=e,this.table[n]=e,++this.nElements},e.prototype.setValue=function(t,e){if(!s.isUndefined(t)&&!s.isUndefined(e)){var n=this.getLinkedDictionaryPair(t),o=new a(t,e),i="$"+this.toStr(t);return s.isUndefined(n)?(this.appendToTail(o),this.table[i]=o,void++this.nElements):(this.replace(n,o),n.value)}},e.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(e)})),t},e.prototype.values=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),t},e.prototype.forEach=function(t){for(var e=this.head.next;e.next;){if(!1===t(e.key,e.value))return;e=e.next}},e}(r.default);e.default=l},456:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205),i=n(229),r=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(o.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||o.isUndefined(t))return!1;var n=this.createNode(t);if(0===this.nElements||null===this.lastNode)this.firstNode=n,this.lastNode=n;else if(e===this.nElements)this.lastNode.next=n,this.lastNode=n;else if(0===e)n.next=this.firstNode,this.firstNode=n;else{var i=this.nodeAtIndex(e-1);if(null===i)return!1;n.next=i.next,i.next=n}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var n=e||o.defaultEquals;if(o.isUndefined(t))return-1;for(var i=this.firstNode,r=0;null!==i;){if(n(i.element,t))return r;r++,i=i.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var n=e||o.defaultEquals;if(this.nElements<1||o.isUndefined(t))return!1;for(var i=null,r=this.firstNode;null!==r;){if(n(r.element,t))return null===i?(this.firstNode=r.next,r===this.lastNode&&(this.lastNode=null)):r===this.lastNode?(this.lastNode=i,i.next=r.next,r.next=null):(i.next=r.next,r.next=null),this.nElements--,!0;i=r,r=r.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,n){var i=n||o.defaultEquals;return e instanceof t&&this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,i)},t.prototype.equalsAux=function(t,e,n){for(;null!==t&&null!==e;){if(!n(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements||null===this.firstNode||null===this.lastNode)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(t-1);null===n?(e=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=n),null!==n&&null!==n.next&&(e=n.next.element,n.next=n.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,n=null;null!==e;)n=e.next,e.next=t,t=e,e=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return i.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,n=0;n<t&&null!==e;n++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();e.default=r},72:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205),i=n(805),r=n(229),s=function(){function t(t,e,n){void 0===n&&(n=!1),this.dict=new i.default(t),this.equalsF=e||o.defaultEquals,this.allowDuplicate=n}return t.prototype.getValue=function(t){var e=this.dict.getValue(t);return o.isUndefined(e)?[]:r.copy(e)},t.prototype.setValue=function(t,e){if(o.isUndefined(t)||o.isUndefined(e))return!1;var n=this.dict.getValue(t);return o.isUndefined(n)?(this.dict.setValue(t,[e]),!0):!(!this.allowDuplicate&&r.contains(n,e,this.equalsF)||(n.push(e),0))},t.prototype.remove=function(t,e){if(o.isUndefined(e)){var n=this.dict.remove(t);return!o.isUndefined(n)}var i=this.dict.getValue(t);return!(o.isUndefined(i)||!r.remove(i,e,this.equalsF)||(0===i.length&&this.dict.remove(t),0))},t.prototype.keys=function(){return this.dict.keys()},t.prototype.values=function(){for(var t=[],e=0,n=this.dict.values();e<n.length;e++)for(var o=0,i=n[e];o<i.length;o++){var r=i[o];t.push(r)}return t},t.prototype.containsKey=function(t){return this.dict.containsKey(t)},t.prototype.clear=function(){this.dict.clear()},t.prototype.size=function(){return this.dict.size()},t.prototype.isEmpty=function(){return this.dict.isEmpty()},t}();e.default=s},489:(t,e)=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER",t[t.INSIDE_AT_END=2]="INSIDE_AT_END",t[t.INSIDE_AT_START=3]="INSIDE_AT_START"}(n||(n={}));var o=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.rootIds=t,this.nodes=e,this.initRootIds(),this.initNodes()}return t.prototype.initRootIds=function(){for(var t=0,e=this.rootIds;t<e.length;t++){var n=e[t];this.createEmptyNodeIfNotExist(n)}},t.prototype.initNodes=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t))for(var e=0,n=this.nodes[t];e<n.length;e++){var o=n[e];this.createEmptyNodeIfNotExist(o)}},t.prototype.createEmptyNodeIfNotExist=function(t){this.nodes[t]||(this.nodes[t]=[])},t.prototype.getRootIds=function(){return this.rootIds.slice()},t.prototype.getNodes=function(){var t={};for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(t[e]=this.nodes[e].slice());return t},t.prototype.getObject=function(){return{rootIds:this.getRootIds(),nodes:this.getNodes()}},t.prototype.toObject=function(){return this.getObject()},t.prototype.flatten=function(){for(var t=this,e=[],n=0;n<this.rootIds.length;n++){var o=this.rootIds[n];e.push({id:o,level:0,hasParent:!1,childrenCount:0}),u(o,this.nodes,e,0)}for(var i=0,r=e;i<r.length;i++){var s=r[i];s.childrenCount=(a=s.id,t.nodes[a]?t.nodes[a].length:0)}var a;return e;function u(t,e,n,o){if(void 0===o&&(o=0),t&&e&&n&&e[t]){o++;for(var i=e[t],r=0;r<i.length;r++){var s=i[r];n.push({id:s,level:o,hasParent:!0}),u(s,e,n,o)}o--}}},t.prototype.moveIdBeforeId=function(t,e){return this.moveId(t,e,n.BEFORE)},t.prototype.moveIdAfterId=function(t,e){return this.moveId(t,e,n.AFTER)},t.prototype.moveIdIntoId=function(t,e,o){return void 0===o&&(o=!0),o?this.moveId(t,e,n.INSIDE_AT_START):this.moveId(t,e,n.INSIDE_AT_END)},t.prototype.swapRootIdWithRootId=function(t,e){var n=this.findRootId(t),o=this.findRootId(e);this.swapRootPositionWithRootPosition(n,o)},t.prototype.swapRootPositionWithRootPosition=function(t,e){var n=this.rootIds[e];this.rootIds[e]=this.rootIds[t],this.rootIds[t]=n},t.prototype.deleteId=function(t){this.rootDeleteId(t),this.nodeAndSubNodesDelete(t),this.nodeRefrencesDelete(t)},t.prototype.insertIdBeforeId=function(t,e){var n=this.findRootId(t);for(var o in n>-1&&this.insertIdIntoRoot(e,n),this.nodes)if(this.nodes.hasOwnProperty(o)){var i=this.findNodeId(o,t);i>-1&&this.insertIdIntoNode(o,e,i)}},t.prototype.insertIdAfterId=function(t,e){var n=this.findRootId(t);for(var o in n>-1&&this.insertIdIntoRoot(e,n+1),this.nodes)if(this.nodes.hasOwnProperty(o)){var i=this.findNodeId(o,t);i>-1&&this.insertIdIntoNode(o,e,i+1)}},t.prototype.insertIdIntoId=function(t,e){this.nodeInsertAtEnd(t,e),this.nodes[e]=[]},t.prototype.insertIdIntoRoot=function(t,e){if(void 0===e)this.rootInsertAtEnd(t);else if(e<0){var n=this.rootIds.length;this.rootIds.splice(e+n+1,0,t)}else this.rootIds.splice(e,0,t);this.nodes[t]=this.nodes[t]||[]},t.prototype.insertIdIntoNode=function(t,e,n){if(this.nodes[t]=this.nodes[t]||[],this.nodes[e]=this.nodes[e]||[],void 0===n)this.nodeInsertAtEnd(t,e);else if(n<0){var o=this.nodes[t].length;this.nodes[t].splice(n+o+1,0,e)}else this.nodes[t].splice(n,0,e)},t.prototype.moveId=function(t,e,o){var i=t,r=this.findRootId(i);for(var s in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}var a=e,u=this.findRootId(a);for(var s in this.nodes[e],this.nodes)if(this.nodes.hasOwnProperty(s)){this.findNodeId(s,e);break}if(r>-1){if(u>-1)switch(this.rootDelete(r),u>r&&u--,o){case n.BEFORE:this.insertIdIntoRoot(i,u);break;case n.AFTER:this.insertIdIntoRoot(i,u+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}else for(var s in this.rootDelete(r),this.nodes)if(this.nodes.hasOwnProperty(s)&&(l=this.findNodeId(s,a))>-1){switch(o){case n.BEFORE:this.insertIdIntoNode(s,i,l);break;case n.AFTER:this.insertIdIntoNode(s,i,l+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}break}}else if(u>-1){for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)&&(l=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,l);break}switch(o){case n.BEFORE:this.insertIdIntoRoot(i,u);break;case n.AFTER:this.insertIdIntoRoot(i,u+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}}else{for(var s in this.nodes)if(this.nodes.hasOwnProperty(s)&&(l=this.findNodeId(s,i))>-1){this.nodeDeleteAtIndex(s,l);break}for(var s in this.nodes){var l;if(this.nodes.hasOwnProperty(s)&&(l=this.findNodeId(s,a))>-1){switch(o){case n.BEFORE:this.insertIdIntoNode(s,i,l);break;case n.AFTER:this.insertIdIntoNode(s,i,l+1);break;case n.INSIDE_AT_START:this.nodeInsertAtStart(a,i);break;case n.INSIDE_AT_END:this.nodeInsertAtEnd(a,i)}break}}}},t.prototype.swapArrayElements=function(t,e,n){var o=t[e];return t[e]=t[n],t[n]=o,t},t.prototype.rootDeleteId=function(t){var e=this.findRootId(t);e>-1&&this.rootDelete(e)},t.prototype.nodeAndSubNodesDelete=function(t){for(var e=[],n=0;n<this.nodes[t].length;n++){var o=this.nodes[t][n];this.nodeAndSubNodesDelete(o),e.push(t)}for(this.nodeDelete(t),n=0;n<e.length;n++)this.nodeDelete(e[n])},t.prototype.nodeRefrencesDelete=function(t){for(var e in this.nodes)if(this.nodes.hasOwnProperty(e))for(var n=0;n<this.nodes[e].length;n++)this.nodes[e][n]===t&&this.nodeDeleteAtIndex(e,n)},t.prototype.nodeDelete=function(t){delete this.nodes[t]},t.prototype.findRootId=function(t){return this.rootIds.indexOf(t)},t.prototype.findNodeId=function(t,e){return this.nodes[t].indexOf(e)},t.prototype.findNode=function(t){return this.nodes[t]},t.prototype.nodeInsertAtStart=function(t,e){this.nodes[t].unshift(e)},t.prototype.nodeInsertAtEnd=function(t,e){this.nodes[t].push(e)},t.prototype.rootDelete=function(t){this.rootIds.splice(t,1)},t.prototype.nodeDeleteAtIndex=function(t,e){this.nodes[t].splice(e,1)},t.prototype.rootInsertAtStart=function(t){this.rootIds.unshift(t)},t.prototype.rootInsertAtEnd=function(t){this.rootIds.push(t)},t}();e.default=o},994:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205),i=n(422),r=function(){function t(t){this.heap=new i.default(o.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();e.default=r},278:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(456),i=function(){function t(){this.list=new o.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=i},818:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205),i=n(229),r=n(805),s=function(){function t(t){this.dictionary=new r.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!o.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach((function(n){return t.contains(n)||e.remove(n),!0}))},t.prototype.union=function(t){var e=this;t.forEach((function(t){return e.add(t),!0}))},t.prototype.difference=function(t){var e=this;t.forEach((function(t){return e.remove(t),!0}))},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach((function(n){return!!t.contains(n)||(e=!1,!1)})),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach((function(e,n){return t(n)}))},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return i.toString(this.toArray())},t}();e.default=s},669:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(456),i=function(){function t(){this.list=new o.default}return t.prototype.push=function(t){return this.list.add(t,0)},t.prototype.add=function(t){return this.list.add(t,0)},t.prototype.pop=function(){return this.list.removeElementAtIndex(0)},t.prototype.peek=function(){return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.isEmpty()},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();e.default=i},229:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var o=n(205);function i(t,e,n){for(var i=n||o.defaultEquals,r=t.length,s=0;s<r;s++)if(i(t[s],e))return s;return-1}e.indexOf=i,e.lastIndexOf=function(t,e,n){for(var i=n||o.defaultEquals,r=t.length-1;r>=0;r--)if(i(t[r],e))return r;return-1},e.contains=function(t,e,n){return i(t,e,n)>=0},e.remove=function(t,e,n){var o=i(t,e,n);return!(o<0||(t.splice(o,1),0))},e.frequency=function(t,e,n){for(var i=n||o.defaultEquals,r=t.length,s=0,a=0;a<r;a++)i(t[a],e)&&s++;return s},e.equals=function(t,e,n){var i=n||o.defaultEquals;if(t.length!==e.length)return!1;for(var r=t.length,s=0;s<r;s++)if(!i(t[s],e[s]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var o=t[e];return t[e]=t[n],t[n]=o,!0},e.toString=function(t){return"["+t.toString()+"]"},e.forEach=function(t,e){for(var n=0,o=t;n<o.length;n++)if(!1===e(o[n]))return}},649:(t,e,n)=>{n(229),n(70).default,n(71).default,n(176).default,n(805).default,n(422).default,n(272).default,n(456).default,n(72).default,n(734).default,n(734).default,n(278).default,n(994).default;var o=n(818);e.l4=o.default,n(669).default,n(489).default,n(205)},205:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty;function o(t){return"function"==typeof t}function i(t){return void 0===t}function r(t){return"[object String]"===Object.prototype.toString.call(t)}e.has=function(t,e){return n.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?"COLLECTION_NULL":i(t)?"COLLECTION_UNDEFINED":r(t)?"$s"+t:"$o"+t.toString()},e.makeString=function(t,n){if(void 0===n&&(n=","),null===t)return"COLLECTION_NULL";if(i(t))return"COLLECTION_UNDEFINED";if(r(t))return t.toString();var o="{",s=!0;for(var a in t)e.has(t,a)&&(s?s=!1:o+=n,o=o+a+":"+t[a]);return o+"}"},e.isFunction=o,e.isUndefined=i,e.isString=r,e.reverseCompareFunction=function(t){return i(t)||!o(t)?function(t,e){return t<e?1:t===e?0:-1}:function(e,n){return-1*t(e,n)}},e.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}(()=>{class t extends FormApplication{constructor(t,[...e]){super([...e]),this.state=t}static get defaultOptions(){return mergeObject(super.defaultOptions,{id:"downtime-pathfinder2e",template:"modules/downtime-pathfinder2e/templates/add-downtime-form2.html",title:"Downtime Activity Modification",closeOnSubmit:!0,popOut:!0,width:800,height:800})}async _updateObject(t,e){var n,o,i,r,s,a;console.log(t),console.log(e);const u=null!==(o=Number(null===(n=e["task.level"])||void 0===n?void 0:n.toString()))&&void 0!==o?o:0,l=null!==(r=null===(i=e["task.skill"])||void 0===i?void 0:i.toString())&&void 0!==r?r:"unknownSkillName",h=null!==(a=null===(s=e.name)||void 0===s?void 0:s.toString())&&void 0!==a?a:"unknownTaskName";this.state.createTask(h,l,u)}async getData(){return{skills:CONFIG.PF2E.skillList}}}var e,o=n(649);class i{constructor(t,e,n){this.name=t,this.lore=e,this.level=n}}!function(t){t[t.CriticalFailure=0]="CriticalFailure",t[t.Failure=1]="Failure",t[t.Success=2]="Success",t[t.CriticalSuccess=3]="CriticalSuccess"}(e||(e={}));const r=new class{constructor(){this.createdTasks=new o.l4}createTask(t,e,n){console.log("Creating task:"+t+" "+e+" "+n.toString());const o=new i(t,e,n);return!this.createdTasks.contains(o)&&(this.createdTasks.add(o),!0)}updateTask(t,e,n,o,r,s){const a=new i(t,e,n);if(!this.createdTasks.contains(a))return!1;const u=new i(o,r,s);return!this.createdTasks.contains(u)&&this.deleteTask(t,e,n)&&this.createTask(o,r,s)}deleteTask(t,e,n){const o=new i(t,e,n);return!!this.createdTasks.contains(o)&&(this.createdTasks.remove(o),!0)}getTasks(){return this.createdTasks.toArray()}};Hooks.on("init",(function(){console.log("This code runs once the Foundry VTT software begins it's initialization workflow.")})),Hooks.on("ready",(function(){console.log("This code runs once core initialization is ready and game data is available.");const e=CONFIG.PF2E;console.log(e.skillList);const n=document.getElementById("settings-game"),o=document.createElement("button");o.innerText="Print Debug 1",o.onclick=function(){if(null===canvas||void 0===canvas?void 0:canvas.tokens){const t=canvas.tokens.controlled;if(t.length>0){const e=t[0].actor;e&&"npc"!=e.data.type&&console.log(e.getRollData())}else console.log("No Tokens were selected")}},n&&n.appendChild(o);const i=document.createElement("button");i.innerText="Print Debug 2",i.onclick=function(){new t(r,[]).render(!0)},n&&n.appendChild(i)}))})()})();